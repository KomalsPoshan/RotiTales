---
layout: home
title: Home
---

<!-- ====== FULL-SCREEN VIDEO CAROUSEL ====== -->
<div class="hero-carousel">

  <!-- Carousel viewport -->
  <div class="carousel-viewport">
    <div class="carousel-track" id="carousel-track">

      <!-- Slide 1: Ghee on Roti -->
      <div class="carousel-slide is-active" data-index="0" data-video-id="Q2SRAu9FiqQ">
        <div class="slide-card">
          <div class="slide-video slide-video-api">
            <div id="player-0"></div>
          </div>
          <div class="card-header">
            <h3 class="card-header-title">Ghee on Roti</h3>
            <div class="card-header-controls">
              <button class="card-ctrl ctrl-playpause" data-slide="0" aria-label="Play/Pause">
                <svg class="pp-pause" viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>
                <svg class="pp-play" viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><polygon points="5,3 19,12 5,21"/></svg>
              </button>
              <button class="card-ctrl ctrl-speed" data-slide="0" aria-label="Playback speed">
                <span class="speed-label">1x</span>
              </button>
              <button class="card-ctrl card-mute is-muted" data-slide="0" aria-label="Toggle sound">
                <svg class="sound-icon-muted" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 5L6 9H2v6h4l5 4V5z"/><line x1="23" y1="9" x2="17" y2="15"/><line x1="17" y1="9" x2="23" y2="15"/></svg>
                <svg class="sound-icon-on" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 5L6 9H2v6h4l5 4V5z"/><path d="M19.07 4.93a10 10 0 010 14.14"/><path d="M15.54 8.46a5 5 0 010 7.07"/></svg>
              </button>
            </div>
          </div>
          <div class="card-footer">
            <p class="card-footer-subtitle">Ghee on Roti</p>
            <span class="card-footer-brand">Roti Tales</span>
          </div>
        </div>
      </div>

      <!-- Slide 2: Fiber thru Roti -->
      <div class="carousel-slide" data-index="1" data-video-id="k1Tt-mMHyd0">
        <div class="slide-card">
          <div class="slide-video slide-video-api">
            <div id="player-1"></div>
          </div>
          <div class="card-header">
            <h3 class="card-header-title">Fiber thru Roti</h3>
            <div class="card-header-controls">
              <button class="card-ctrl ctrl-playpause" data-slide="1" aria-label="Play/Pause">
                <svg class="pp-pause" viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>
                <svg class="pp-play" viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><polygon points="5,3 19,12 5,21"/></svg>
              </button>
              <button class="card-ctrl ctrl-speed" data-slide="1" aria-label="Playback speed">
                <span class="speed-label">1x</span>
              </button>
              <button class="card-ctrl card-mute is-muted" data-slide="1" aria-label="Toggle sound">
                <svg class="sound-icon-muted" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 5L6 9H2v6h4l5 4V5z"/><line x1="23" y1="9" x2="17" y2="15"/><line x1="17" y1="9" x2="23" y2="15"/></svg>
                <svg class="sound-icon-on" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 5L6 9H2v6h4l5 4V5z"/><path d="M19.07 4.93a10 10 0 010 14.14"/><path d="M15.54 8.46a5 5 0 010 7.07"/></svg>
              </button>
            </div>
          </div>
          <div class="card-footer">
            <p class="card-footer-subtitle">Fiber thru Roti</p>
            <span class="card-footer-brand">Roti Tales</span>
          </div>
        </div>
      </div>

      <!-- Slide 3: Roti's Gluten -->
      <div class="carousel-slide" data-index="2" data-video-id="tLSUnNDu1kM">
        <div class="slide-card">
          <div class="slide-video slide-video-api">
            <div id="player-2"></div>
          </div>
          <div class="card-header">
            <h3 class="card-header-title">Roti's Gluten</h3>
            <div class="card-header-controls">
              <button class="card-ctrl ctrl-playpause" data-slide="2" aria-label="Play/Pause">
                <svg class="pp-pause" viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>
                <svg class="pp-play" viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><polygon points="5,3 19,12 5,21"/></svg>
              </button>
              <button class="card-ctrl ctrl-speed" data-slide="2" aria-label="Playback speed">
                <span class="speed-label">1x</span>
              </button>
              <button class="card-ctrl card-mute is-muted" data-slide="2" aria-label="Toggle sound">
                <svg class="sound-icon-muted" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 5L6 9H2v6h4l5 4V5z"/><line x1="23" y1="9" x2="17" y2="15"/><line x1="17" y1="9" x2="23" y2="15"/></svg>
                <svg class="sound-icon-on" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 5L6 9H2v6h4l5 4V5z"/><path d="M19.07 4.93a10 10 0 010 14.14"/><path d="M15.54 8.46a5 5 0 010 7.07"/></svg>
              </button>
            </div>
          </div>
          <div class="card-footer">
            <p class="card-footer-subtitle">Roti's Gluten</p>
            <span class="card-footer-brand">Roti Tales</span>
          </div>
        </div>
      </div>

      <!-- Slide 4: Taco with Rotis -->
      <div class="carousel-slide" data-index="3" data-video-id="45Cvzh2U818">
        <div class="slide-card">
          <div class="slide-video slide-video-api">
            <div id="player-3"></div>
          </div>
          <div class="card-header">
            <h3 class="card-header-title">Taco with Rotis</h3>
            <div class="card-header-controls">
              <button class="card-ctrl ctrl-playpause" data-slide="3" aria-label="Play/Pause">
                <svg class="pp-pause" viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>
                <svg class="pp-play" viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><polygon points="5,3 19,12 5,21"/></svg>
              </button>
              <button class="card-ctrl ctrl-speed" data-slide="3" aria-label="Playback speed">
                <span class="speed-label">1x</span>
              </button>
              <button class="card-ctrl card-mute is-muted" data-slide="3" aria-label="Toggle sound">
                <svg class="sound-icon-muted" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 5L6 9H2v6h4l5 4V5z"/><line x1="23" y1="9" x2="17" y2="15"/><line x1="17" y1="9" x2="23" y2="15"/></svg>
                <svg class="sound-icon-on" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 5L6 9H2v6h4l5 4V5z"/><path d="M19.07 4.93a10 10 0 010 14.14"/><path d="M15.54 8.46a5 5 0 010 7.07"/></svg>
              </button>
            </div>
          </div>
          <div class="card-footer">
            <p class="card-footer-subtitle">Taco with Rotis</p>
            <span class="card-footer-brand">Roti Tales</span>
          </div>
        </div>
      </div>

      <!-- Slide 5: Connect card (mid) -->
      <div class="carousel-slide carousel-slide-connect" data-index="4">
        <div class="slide-card">
          <audio class="connect-audio" src="/assets/audio/bounce-bay-records-bollywood-4-437919.mp3" loop preload="auto"></audio>
          <div class="slide-connect">
            <div class="connect-bg-anim"></div>
            <img src="/assets/images/rotitales_roti_on_fire_logo.png" alt="Roti Tales" class="connect-logo" />
            <h3 class="connect-title">Join the Family</h3>
            <p class="connect-desc">Eating roti? Follow us to make sure it's a healthy one.</p>
            <div class="connect-grid">
              {% include social-links.html class="social-link" %}
            </div>
          </div>
          <div class="card-header">
            <h3 class="card-header-title">Join the Family</h3>
            <div class="card-header-controls">
              <button class="card-ctrl ctrl-playpause is-paused" disabled aria-label="Play/Pause">
                <svg class="pp-pause" viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>
                <svg class="pp-play" viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><polygon points="5,3 19,12 5,21"/></svg>
              </button>
              <button class="card-ctrl ctrl-speed" disabled aria-label="Playback speed">
                <span class="speed-label">1x</span>
              </button>
              <button class="card-ctrl card-mute is-muted" data-slide="4" aria-label="Toggle sound">
                <svg class="sound-icon-muted" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 5L6 9H2v6h4l5 4V5z"/><line x1="23" y1="9" x2="17" y2="15"/><line x1="17" y1="9" x2="23" y2="15"/></svg>
                <svg class="sound-icon-on" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 5L6 9H2v6h4l5 4V5z"/><path d="M19.07 4.93a10 10 0 010 14.14"/><path d="M15.54 8.46a5 5 0 010 7.07"/></svg>
              </button>
            </div>
          </div>
          <div class="card-footer">
            <p class="card-footer-subtitle">Eating roti? Follow us to make sure it's a healthy one.</p>
            <span class="card-footer-brand">Roti Tales</span>
          </div>
        </div>
      </div>

      <!-- Slide 6: Wheat Variety -->
      <div class="carousel-slide" data-index="5" data-video-id="TvMdYHopJNg">
        <div class="slide-card">
          <div class="slide-video slide-video-api">
            <div id="player-5"></div>
          </div>
          <div class="card-header">
            <h3 class="card-header-title">Wheat Variety</h3>
            <div class="card-header-controls">
              <button class="card-ctrl ctrl-playpause" data-slide="5" aria-label="Play/Pause">
                <svg class="pp-pause" viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>
                <svg class="pp-play" viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><polygon points="5,3 19,12 5,21"/></svg>
              </button>
              <button class="card-ctrl ctrl-speed" data-slide="5" aria-label="Playback speed">
                <span class="speed-label">1x</span>
              </button>
              <button class="card-ctrl card-mute is-muted" data-slide="5" aria-label="Toggle sound">
                <svg class="sound-icon-muted" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 5L6 9H2v6h4l5 4V5z"/><line x1="23" y1="9" x2="17" y2="15"/><line x1="17" y1="9" x2="23" y2="15"/></svg>
                <svg class="sound-icon-on" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 5L6 9H2v6h4l5 4V5z"/><path d="M19.07 4.93a10 10 0 010 14.14"/><path d="M15.54 8.46a5 5 0 010 7.07"/></svg>
              </button>
            </div>
          </div>
          <div class="card-footer">
            <p class="card-footer-subtitle">Wheat Variety</p>
            <span class="card-footer-brand">Roti Tales</span>
          </div>
        </div>
      </div>

      <!-- Slide 7: Packaged Tortillas -->
      <div class="carousel-slide" data-index="6" data-video-id="UmADIP7Eneo">
        <div class="slide-card">
          <div class="slide-video slide-video-api">
            <div id="player-6"></div>
          </div>
          <div class="card-header">
            <h3 class="card-header-title">Packaged Tortillas</h3>
            <div class="card-header-controls">
              <button class="card-ctrl ctrl-playpause" data-slide="6" aria-label="Play/Pause">
                <svg class="pp-pause" viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>
                <svg class="pp-play" viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><polygon points="5,3 19,12 5,21"/></svg>
              </button>
              <button class="card-ctrl ctrl-speed" data-slide="6" aria-label="Playback speed">
                <span class="speed-label">1x</span>
              </button>
              <button class="card-ctrl card-mute is-muted" data-slide="6" aria-label="Toggle sound">
                <svg class="sound-icon-muted" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 5L6 9H2v6h4l5 4V5z"/><line x1="23" y1="9" x2="17" y2="15"/><line x1="17" y1="9" x2="23" y2="15"/></svg>
                <svg class="sound-icon-on" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 5L6 9H2v6h4l5 4V5z"/><path d="M19.07 4.93a10 10 0 010 14.14"/><path d="M15.54 8.46a5 5 0 010 7.07"/></svg>
              </button>
            </div>
          </div>
          <div class="card-footer">
            <p class="card-footer-subtitle">Packaged Tortillas</p>
            <span class="card-footer-brand">Roti Tales</span>
          </div>
        </div>
      </div>

      <!-- Slide 8: Dough Quality -->
      <div class="carousel-slide" data-index="7" data-video-id="bKHeCYNw9bY">
        <div class="slide-card">
          <div class="slide-video slide-video-api">
            <div id="player-7"></div>
          </div>
          <div class="card-header">
            <h3 class="card-header-title">Dough Quality</h3>
            <div class="card-header-controls">
              <button class="card-ctrl ctrl-playpause" data-slide="7" aria-label="Play/Pause">
                <svg class="pp-pause" viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>
                <svg class="pp-play" viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><polygon points="5,3 19,12 5,21"/></svg>
              </button>
              <button class="card-ctrl ctrl-speed" data-slide="7" aria-label="Playback speed">
                <span class="speed-label">1x</span>
              </button>
              <button class="card-ctrl card-mute is-muted" data-slide="7" aria-label="Toggle sound">
                <svg class="sound-icon-muted" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 5L6 9H2v6h4l5 4V5z"/><line x1="23" y1="9" x2="17" y2="15"/><line x1="17" y1="9" x2="23" y2="15"/></svg>
                <svg class="sound-icon-on" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 5L6 9H2v6h4l5 4V5z"/><path d="M19.07 4.93a10 10 0 010 14.14"/><path d="M15.54 8.46a5 5 0 010 7.07"/></svg>
              </button>
            </div>
          </div>
          <div class="card-footer">
            <p class="card-footer-subtitle">Dough Quality</p>
            <span class="card-footer-brand">Roti Tales</span>
          </div>
        </div>
      </div>

      <!-- Slide 9: Roti or Preservatives -->
      <div class="carousel-slide" data-index="8" data-video-id="oQPZyqFDFJc">
        <div class="slide-card">
          <div class="slide-video slide-video-api">
            <div id="player-8"></div>
          </div>
          <div class="card-header">
            <h3 class="card-header-title">Roti or Preservatives</h3>
            <div class="card-header-controls">
              <button class="card-ctrl ctrl-playpause" data-slide="8" aria-label="Play/Pause">
                <svg class="pp-pause" viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>
                <svg class="pp-play" viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><polygon points="5,3 19,12 5,21"/></svg>
              </button>
              <button class="card-ctrl ctrl-speed" data-slide="8" aria-label="Playback speed">
                <span class="speed-label">1x</span>
              </button>
              <button class="card-ctrl card-mute is-muted" data-slide="8" aria-label="Toggle sound">
                <svg class="sound-icon-muted" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 5L6 9H2v6h4l5 4V5z"/><line x1="23" y1="9" x2="17" y2="15"/><line x1="17" y1="9" x2="23" y2="15"/></svg>
                <svg class="sound-icon-on" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 5L6 9H2v6h4l5 4V5z"/><path d="M19.07 4.93a10 10 0 010 14.14"/><path d="M15.54 8.46a5 5 0 010 7.07"/></svg>
              </button>
            </div>
          </div>
          <div class="card-footer">
            <p class="card-footer-subtitle">Roti or Preservatives</p>
            <span class="card-footer-brand">Roti Tales</span>
          </div>
        </div>
      </div>

      <!-- Slide 10: Connect card (end) -->
      <div class="carousel-slide carousel-slide-connect" data-index="9">
        <div class="slide-card">
          <audio class="connect-audio" src="/assets/audio/bounce-bay-records-bollywood-4-437919.mp3" loop preload="auto"></audio>
          <div class="slide-connect">
            <div class="connect-bg-anim"></div>
            <img src="/assets/images/rotitales_roti_on_fire_logo.png" alt="Roti Tales" class="connect-logo" />
            <h3 class="connect-title">Join the Family</h3>
            <p class="connect-desc">Eating roti? Follow us to make sure it's a healthy one.</p>
            <div class="connect-grid">
              {% include social-links.html class="social-link" %}
            </div>
          </div>
          <div class="card-header">
            <h3 class="card-header-title">Join the Family</h3>
            <div class="card-header-controls">
              <button class="card-ctrl ctrl-playpause is-paused" disabled aria-label="Play/Pause">
                <svg class="pp-pause" viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>
                <svg class="pp-play" viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><polygon points="5,3 19,12 5,21"/></svg>
              </button>
              <button class="card-ctrl ctrl-speed" disabled aria-label="Playback speed">
                <span class="speed-label">1x</span>
              </button>
              <button class="card-ctrl card-mute is-muted" data-slide="9" aria-label="Toggle sound">
                <svg class="sound-icon-muted" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 5L6 9H2v6h4l5 4V5z"/><line x1="23" y1="9" x2="17" y2="15"/><line x1="17" y1="9" x2="23" y2="15"/></svg>
                <svg class="sound-icon-on" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 5L6 9H2v6h4l5 4V5z"/><path d="M19.07 4.93a10 10 0 010 14.14"/><path d="M15.54 8.46a5 5 0 010 7.07"/></svg>
              </button>
            </div>
          </div>
          <div class="card-footer">
            <p class="card-footer-subtitle">Eating roti? Follow us to make sure it's a healthy one.</p>
            <span class="card-footer-brand">Roti Tales</span>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- Controls — bottom center -->
  <div class="hero-controls">
    <button class="ctrl-btn" id="ctrl-prev" aria-label="Previous">
      <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"/></svg>
    </button>

    <div class="hero-dots" id="hero-dots">
      <span class="dot active" data-slide="0"></span>
      <span class="dot" data-slide="1"></span>
      <span class="dot" data-slide="2"></span>
      <span class="dot" data-slide="3"></span>
      <span class="dot" data-slide="4"></span>
      <span class="dot" data-slide="5"></span>
      <span class="dot" data-slide="6"></span>
      <span class="dot" data-slide="7"></span>
      <span class="dot" data-slide="8"></span>
      <span class="dot" data-slide="9"></span>
    </div>

    <button class="ctrl-btn" id="ctrl-next" aria-label="Next">
      <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"/></svg>
    </button>
  </div>

</div>

<!-- ====== OUR MISSION ====== -->
<div class="mission-section">
  <div class="mission-inner">
    <img src="/assets/images/Poshan_Logo_2Color-Flour.png" alt="Poshan" class="mission-logo" />
    <h2 class="mission-title">Healthier Rotis, Happier Families</h2>
    <p class="mission-text">Roti Tales is a Poshan initiative empowering families with simple ways to make everyday rotis more nutritious — one reel at a time.</p>
    <a class="mission-cta platform-trigger" href="#">
      Follow RotiTales
      <span class="mission-cta-arrow">&#8594;</span>
    </a>
  </div>
</div>

<!-- ====== PLATFORM CHOOSER POPUP ====== -->
<div class="platform-overlay" id="platform-popup">
  <div class="platform-modal">
    <button class="platform-close" id="platform-close" type="button">&times;</button>
    <div class="platform-header">
      <img src="/assets/images/rotitales_roti_on_fire_logo.png" alt="Roti Tales" class="platform-logo" />
      <div class="platform-brand">
        <h3 class="platform-heading">Roti Tales</h3>
        <p class="platform-tagline">Follow to keep eating healthy rotis!</p>
      </div>
    </div>
    <div class="platform-row">
      {% include social-links.html class="social-link" %}
    </div>
  </div>
</div>

<!-- ====== FOLLOW NUDGE (appears after 5s) ====== -->
<div class="follow-nudge" id="follow-nudge">
  <svg class="follow-nudge-hand" viewBox="0 0 24 24" width="28" height="28" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <path d="M18 11V6a2 2 0 00-4 0v1"/>
    <path d="M14 10V4a2 2 0 00-4 0v6"/>
    <path d="M10 10.5V6a2 2 0 00-4 0v8"/>
    <path d="M18 11a2 2 0 014 0v3a8 8 0 01-8 8h-2c-2.5 0-4.5-1-6.2-2.8L3 16.4a2 2 0 013-2.6l.6.6"/>
  </svg>
  <span class="follow-nudge-text">Follow us!</span>
</div>

<!-- YouTube IFrame API -->
<script>
var tag = document.createElement('script');
tag.src = "https://www.youtube.com/iframe_api";
var firstScriptTag = document.getElementsByTagName('script')[0];
firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

var players = {};
var globalMuted = true;
var currentSlide = 0;
var slidePlaying = {};  // per-slide play state
var playerReady = {};  // per-slide player readiness
var globalSpeed = 1;
var speedOptions = [1, 1.25, 1.5, 1.75, 2];

function onYouTubeIframeAPIReady() {
  var videoSlides = document.querySelectorAll('.carousel-slide[data-video-id]');
  videoSlides.forEach(function(slide) {
    var idx = parseInt(slide.getAttribute('data-index'));
    var videoId = slide.getAttribute('data-video-id');
    var isFirst = (idx === 0);

    players[idx] = new YT.Player('player-' + idx, {
      videoId: videoId,
      playerVars: {
        autoplay: isFirst ? 1 : 0,
        mute: 1,
        controls: 0,
        showinfo: 0,
        rel: 0,
        loop: 1,
        playlist: videoId,
        modestbranding: 1,
        iv_load_policy: 3,
        disablekb: 1,
        fs: 0,
        playsinline: 1
      },
      events: {
        onReady: function(e) {
          playerReady[idx] = true;
          if (isFirst) {
            e.target.setPlaybackRate(globalSpeed);
            e.target.playVideo();
            slidePlaying[idx] = true;
          }
          // Trigger pulse now that player is ready
          if (idx === currentSlide && window._updatePulse) {
            window._updatePulse(idx);
          }
        },
        onStateChange: function(e) {
          if (e.data === YT.PlayerState.ENDED) {
            players[idx].playVideo();
          }
          // Sync UI when playback actually starts or pauses (handles iOS autoplay blocks)
          if (e.data === YT.PlayerState.PLAYING || e.data === YT.PlayerState.PAUSED) {
            slidePlaying[idx] = (e.data === YT.PlayerState.PLAYING);
            if (idx === currentSlide) {
              if (window._syncControls) window._syncControls(idx);
              if (window._updatePulse) window._updatePulse(idx);
            }
          }
        }
      }
    });

    slidePlaying[idx] = isFirst;
  });
}

// ===== Carousel =====
(function() {
  var track = document.getElementById('carousel-track');
  var dots = document.querySelectorAll('#hero-dots .dot');
  var totalSlides = dots.length;
  var slides = document.querySelectorAll('.carousel-slide');

  function syncControls(idx) {
    slides.forEach(function(s) {
      var sIdx = parseInt(s.getAttribute('data-index'));
      var ppBtn = s.querySelector('.ctrl-playpause');
      var muteBtn = s.querySelector('.card-mute');
      if (ppBtn) {
        ppBtn.classList.toggle('is-paused', !slidePlaying[sIdx]);
      }
      if (muteBtn) {
        muteBtn.classList.toggle('is-muted', globalMuted);
      }
    });
  }

  function updatePulse(idx) {
    var slide = slides[idx];
    if (!slide) return;
    var ppBtn = slide.querySelector('.ctrl-playpause');
    var muteBtn = slide.querySelector('.card-mute');
    // Clear existing pulses (reflow to restart animation)
    if (ppBtn) { ppBtn.classList.remove('ctrl-pulse'); ppBtn.offsetHeight; }
    if (muteBtn) { muteBtn.classList.remove('ctrl-pulse'); muteBtn.offsetHeight; }
    // Don't pulse until video player is ready
    var isVideoSlide = slide.hasAttribute('data-video-id');
    if (isVideoSlide && !playerReady[idx]) return;
    // Priority: pulse play/pause if paused, else pulse mute if muted
    if (ppBtn && !ppBtn.disabled && !slidePlaying[idx]) {
      ppBtn.classList.add('ctrl-pulse');
    } else if (muteBtn && globalMuted && slidePlaying[idx]) {
      // Only pulse mute after video is actually playing (not just buffering)
      var p = players[idx];
      var actuallyPlaying = !isVideoSlide || (p && p.getPlayerState && p.getPlayerState() === YT.PlayerState.PLAYING);
      if (actuallyPlaying) {
        muteBtn.classList.add('ctrl-pulse');
      }
    }
  }

  function goTo(idx) {
    if (idx < 0) idx = totalSlides - 1;
    if (idx >= totalSlides) idx = 0;

    var prevSlide = currentSlide;
    currentSlide = idx;

    var slidePct = parseFloat(getComputedStyle(document.body).getPropertyValue('--slide-pct')) || 70;
    var offset = (100 - slidePct) / 2;
    track.style.transform = 'translateX(' + (offset - currentSlide * slidePct) + '%)';

    dots.forEach(function(d, i) { d.classList.toggle('active', i === currentSlide); });
    slides.forEach(function(s, i) { s.classList.toggle('is-active', i === currentSlide); });

    // Pause previous video
    if (players[prevSlide] && players[prevSlide].pauseVideo) {
      try { players[prevSlide].pauseVideo(); } catch(e) {}
      slidePlaying[prevSlide] = false;
    }
    // Pause connect audio when leaving a connect slide
    var prevEl = slides[prevSlide];
    if (prevEl && prevEl.classList.contains('carousel-slide-connect')) {
      var prevAudio = prevEl.querySelector('.connect-audio');
      if (prevAudio) prevAudio.pause();
    }

    // Play new video (if it's a video slide)
    var targetIdx = currentSlide;
    if (players[targetIdx] && players[targetIdx].playVideo) {
      try {
        if (globalMuted) { players[targetIdx].mute(); } else { players[targetIdx].unMute(); }
        players[targetIdx].setPlaybackRate(globalSpeed);
        players[targetIdx].playVideo();
        slidePlaying[targetIdx] = true;
      } catch(e) {}
      // iOS may silently block playVideo(); verify actual state after a delay
      setTimeout(function() {
        if (targetIdx !== currentSlide) return; // user already navigated away
        var p = players[targetIdx];
        if (p && p.getPlayerState) {
          var st = p.getPlayerState();
          var actuallyPlaying = (st === YT.PlayerState.PLAYING);
          if (slidePlaying[targetIdx] !== actuallyPlaying) {
            slidePlaying[targetIdx] = actuallyPlaying;
            syncControls(targetIdx);
            updatePulse(targetIdx);
          }
        }
      }, 300);
    }
    // Play connect audio when arriving at a connect slide
    var curEl = slides[currentSlide];
    if (curEl && curEl.classList.contains('carousel-slide-connect')) {
      var curAudio = curEl.querySelector('.connect-audio');
      if (curAudio) {
        curAudio.muted = globalMuted;
        curAudio.play().catch(function(){});
      }
    }

    syncControls(currentSlide);
    updatePulse(currentSlide);
  }

  goTo(0);

  document.getElementById('ctrl-prev').addEventListener('click', function() { goTo(currentSlide - 1); });
  document.getElementById('ctrl-next').addEventListener('click', function() { goTo(currentSlide + 1); });

  dots.forEach(function(dot) {
    dot.addEventListener('click', function() {
      goTo(parseInt(this.getAttribute('data-slide')));
    });
  });

  // Click a side-peek slide to bring it into focus
  slides.forEach(function(slide) {
    slide.addEventListener('click', function() {
      var idx = parseInt(this.getAttribute('data-index'));
      if (idx !== currentSlide) goTo(idx);
    });
  });

  // Swipe support
  var startX = 0;
  var viewport = document.querySelector('.carousel-viewport');
  viewport.addEventListener('touchstart', function(e) { startX = e.touches[0].clientX; }, { passive: true });
  viewport.addEventListener('touchend', function(e) {
    var diff = startX - e.changedTouches[0].clientX;
    if (Math.abs(diff) > 50) {
      goTo(diff > 0 ? currentSlide + 1 : currentSlide - 1);
    }
  });

  // Keyboard arrows
  document.addEventListener('keydown', function(e) {
    if (e.key === 'ArrowRight') goTo(currentSlide + 1);
    if (e.key === 'ArrowLeft') goTo(currentSlide - 1);
  });

  // ===== Per-slide play/pause and mute =====
  document.querySelectorAll('.ctrl-playpause').forEach(function(btn) {
    btn.addEventListener('click', function() {
      var idx = parseInt(this.getAttribute('data-slide'));
      var p = players[idx];
      if (!p || !p.getPlayerState) return;
      var state = p.getPlayerState();
      if (state === YT.PlayerState.PLAYING) {
        p.pauseVideo();
        slidePlaying[idx] = false;
        this.classList.add('is-paused');
      } else {
        p.playVideo();
        slidePlaying[idx] = true;
        this.classList.remove('is-paused');
      }
      updatePulse(idx);
    });
  });

  document.querySelectorAll('.card-mute').forEach(function(btn) {
    btn.addEventListener('click', function() {
      var idx = parseInt(this.getAttribute('data-slide'));
      var p = players[idx];
      var slideEl = slides[idx];
      var isConnect = slideEl && slideEl.classList.contains('carousel-slide-connect');
      var ca = isConnect ? slideEl.querySelector('.connect-audio') : null;

      if (p && p.isMuted) {
        // YouTube player slide
        if (p.isMuted()) { p.unMute(); globalMuted = false; }
        else { p.mute(); globalMuted = true; }
      } else if (isConnect && ca) {
        // Connect card audio
        globalMuted = !globalMuted;
        ca.muted = globalMuted;
      } else {
        return;
      }

      // Sync all mute buttons
      document.querySelectorAll('.card-mute').forEach(function(m) {
        m.classList.toggle('is-muted', globalMuted);
      });
      // Sync all connect audio elements mute state
      document.querySelectorAll('.connect-audio').forEach(function(a) { a.muted = globalMuted; });
      updatePulse(currentSlide);
    });
  });

  // ===== Playback speed control =====
  function formatSpeed(s) {
    return s % 1 === 0 ? s + 'x' : s + 'x';
  }

  function syncSpeedLabels() {
    var label = formatSpeed(globalSpeed);
    document.querySelectorAll('.ctrl-speed').forEach(function(btn) {
      var span = btn.querySelector('.speed-label');
      if (span) span.textContent = label;
      btn.classList.toggle('is-fast', globalSpeed !== 1);
    });
  }

  document.querySelectorAll('.ctrl-speed').forEach(function(btn) {
    btn.addEventListener('click', function() {
      var currentIdx = speedOptions.indexOf(globalSpeed);
      globalSpeed = speedOptions[(currentIdx + 1) % speedOptions.length];

      // Apply to all active YouTube players
      Object.keys(players).forEach(function(key) {
        var p = players[key];
        if (p && p.setPlaybackRate) {
          try { p.setPlaybackRate(globalSpeed); } catch(e) {}
        }
      });

      syncSpeedLabels();
    });
  });

  // Reposition carousel on resize (picks up responsive --slide-pct changes)
  var resizeTimer;
  window.addEventListener('resize', function() {
    clearTimeout(resizeTimer);
    resizeTimer = setTimeout(function() { goTo(currentSlide); }, 150);
  });

  // Expose for external use
  window._carouselGoTo = goTo;
  window._updatePulse = updatePulse;
  window._syncControls = syncControls;
})();

// ===== Platform chooser popup =====
(function() {
  var popup = document.getElementById('platform-popup');
  var closeBtn = document.getElementById('platform-close');
  if (!popup) return;

  function openPopup() {
    popup.classList.add('is-open');
  }
  function closePopup() {
    popup.classList.remove('is-open');
  }

  document.querySelectorAll('.platform-trigger').forEach(function(el) {
    el.addEventListener('click', function(e) {
      e.preventDefault();
      e.stopPropagation();
      openPopup();
    });
  });

  if (closeBtn) closeBtn.addEventListener('click', closePopup);
  popup.addEventListener('click', function(e) { if (e.target === popup) closePopup(); });
  document.addEventListener('keydown', function(e) { if (e.key === 'Escape') closePopup(); });
  window._openPlatformPopup = openPopup;
})();

// ===== Follow nudge =====
(function() {
  var nudge = document.getElementById('follow-nudge');
  if (!nudge) return;
  nudge.addEventListener('click', function() {
    if (window._openPlatformPopup) window._openPlatformPopup();
  });
})();
</script>
